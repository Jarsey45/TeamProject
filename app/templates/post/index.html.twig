{% extends 'base.html.twig' %}

{% block javascripts %}
	{% block importmap_post %}
		{{ importmap('post') }}
	{% endblock %}
{% endblock %}

{% block body %}
	{% include 'components/_left_panel.html.twig' with { online_users: online_users } %}

	<section
		class="feed">

		{# {{ dump(post) }} #}
		{# @var post Post #}
		{% include 'components/_post_card.html.twig' with { post: post } %}

		{# @var comments Comment[] #}
		{% for comment in comments %}
			{% include 'components/_comment_card.html.twig' with { comment: comment } %}
		{% endfor %}
		<div class="loading-placeholder">
			<span class="dot"></span>
			<span class="dot"></span>
			<span class="dot"></span>
		</div>

		{% include 'components/_comment_input.html.twig' with { postID: post.getId() } %}
	</section>

	{# @var users \App\Entity\User[] #}
	{% include 'components/_right_panel.html.twig' with { users: users } %}
{% endblock %}
